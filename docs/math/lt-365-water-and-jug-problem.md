# 365.水壶问题
题目链接：[传送门](https://leetcode-cn.com/problems/water-and-jug-problem/)

## 题目描述：
有两个容量分别为 $x$ 升 和 $y$ 升 的水壶以及无限多的水。请判断能否通过使用这两个水壶，从而可以得到恰好 $z$ 升的水？

如果可以，最后请用以上水壶中的一或两个来盛放取得的 z升 水。

你允许：

- 装满任意一个水壶
- 清空任意一个水壶
- 从一个水壶向另外一个水壶倒水，直到装满或者倒空

**示例1**:
- 输入: `x = 3, y = 5, z = 4`
- 输出: `True`

**示例2**:
- 输入: `x = 2, y = 6, z = 5`
- 输出: `False`

## 解决方案：
- 时间复杂度：$O(log^n)$
- 空间复杂度：$O(log^n)$
- 思路：数学问题。任何时刻两个水壶不可能同时处于装满或清空状态，必定有一个是空或者满的状态。将两个水壶看作一个整体，不考虑水壶之间倒来倒去的操作，就变成了倒入多少水和倒出多少水之差。倒入水的单位和倒出水的单位是以两个壶分开计的，要么是一直用x壶倒入，用y壶倒出，要么是一直用y壶倒入，用x壶倒出，因为只能用整壶计量，所以每次倒入一定是满壶水，倒出也一定是满壶水。那么问题就可以简化为 $mx+ny=z$，$m$ 和 $n$ 都为整数。根据贝祖定理可以判断该方程是否有解。

## AC代码：
```java
class Solution {
	public boolean canMeasureWater(int x, int y, int z) {
		if (x + y < z) // 若原本两个水壶中的水不足z，则肯定是不能倒出z
			return false;
		if (x == 0 || y == 0)// 若有一个为空，则直接判断
			return z == 0 || x + y == z;
		return z % gcd(x, y) == 0; // 否则使用贝祖定理
	}
	private int gcd(int a, int b) {
		return b == 0 ? a : gcd(b, a % b);
	}
}
```